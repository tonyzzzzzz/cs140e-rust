[build]
target = "armv6zk-none-eabi.json"

[target.armv6zk-none-eabi]
rustflags = [
    "-C", "link-arg=-z noexecstack",
    "-C", "link-arg=--gc-sections",
    "-C", "link-arg=-nostdlib",
    "-C", "link-arg=-Tmemory.ld",
    "-C", "link-arg=--fix-arm1176",
    "-C", "link-arg=--use-blx",
]
linker = "arm-none-eabi-ld"
runner = "./build_bin.sh"

[unstable]
build-std = ["core", "compiler_builtins", "alloc"]
build-std-features = ["compiler-builtins-mem"]

[profile]
dev.panic = "abort"
release.panic = "abort"
